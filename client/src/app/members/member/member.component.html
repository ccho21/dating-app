<section class="member" *ngIf="member">
  <div class="header-background">
    <div class="container">
      <div class="row">
        <div class="offset-md-1 col-md-4">
          <div *ngIf="member.photos && member.photos.length; else noPhoto">
            <swiper
              [pagination]="{
                dynamicBullets: true,
                clickable: true
              }"
              [spaceBetween]="20"
              class="mySwiper"
            >
              <ng-template
                swiperSlide
                *ngFor="let image of member.photos; let i = index"
              >
                <img [src]="image.url" alt="" class="user-thumbnail square" />
              </ng-template>
            </swiper>
          </div>
          <ng-template #noPhoto>
            <img
              src="./assets/shared/user.png"
              alt=""
              class="user-thumbnail square"
            />
          </ng-template>
        </div>
        <div class="col-md-6">
          <div class="member-info">
            <div class="member-settings">
              <button class="badge-btn" (click)="addOrRemoveLike(member)">
                <div
                  class="member-badge"
                  [ngClass]="{
                    'is-liked': isLiked
                  }"
                >
                  <i class="fa-solid fa-heart me-2"></i>
                  <span class="text-white">
                    {{ member.likedByUsers.length }}
                  </span>
                </div>
              </button>
              <button class="badge-btn" [matMenuTriggerFor]="menu">
                <span class="member-badge circle">
                  <i class="fa-solid fa-ellipsis-vertical"></i>
                </span>
              </button>
              <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="addOrRemoveLike(member)">
                  {{ isLiked ? "Remove Favourite" : "Add Favourite" }}
                </button>
                <button mat-menu-item routerLink="/main/messages/{{member.username}}">Send message</button>
              </mat-menu>
            </div>
            <div class="member-content">
              <div></div>
              <div>
                <div class="member-name">
                  {{ member.username }},
                  <span class="member-age">{{ member.age }}</span>
                </div>
                <div class="member-job">Occupation</div>

                <div class="d-flex align-items-center mb-3">
                  <span class="distance">
                    <i class="fa-solid fa-location-dot me-1"></i> Location
                  </span>
                  <span class="member-badge ms-2">
                    {{ member.city }}
                  </span>
                </div>

                <div class="last-visit">
                  <span class="member-badge">
                    Last Login:
                    <strong class="ms-2">{{
                      member.lastActive | timeago
                    }}</strong>
                  </span>
                </div>
              </div>

              <div class="action-groups">
                <div>
                  <button
                    href=""
                    class="main-btn"
                    (click)="addOrRemoveLike(member)"
                  >
                    {{ isLiked ? "Remove Favourite" : "Add Favourite" }}
                  </button>
                </div>
                <div>
                  <button class="main-btn">About {{ member.knownAs }}</button>
                </div>
                <div>
                  <button class="main-btn white">Send Message</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container move-over">
    <div class="panel white bg-white d-block">
      <div class="row">
        <div class="col-xl-9">
          <div>
            <article class="member-card">
              <h2 class="text-start">ABOUT ME</h2>
              <p>
                {{ member.introduction }}
              </p>
              <p>
                {{ member.interests }}
              </p>
              <p>
                {{ member.lookingFor }}
              </p>
            </article>
          </div>
          <div>
            <article class="member-card">
              <h2 class="text-start">PROJECT</h2>
              <app-project-list> </app-project-list>
            </article>
          </div>
          <div>
            <article class="member-card">
              <h2 class="text-start">CAREER</h2>
              <app-experience-list></app-experience-list>
            </article>
          </div>
        </div>

        <div class="col-xl-3">
          <div>
            <article class="member-card">
              <h2 class="text-start">SKILLS</h2>
              <div>
                <h3 class="mb-0">FRONT END</h3>
                <div class="tech-item">HTML5</div>
                <div class="tech-item">CSS</div>
                <div class="tech-item">JavaScript</div>
                <div class="tech-item">HTML5</div>
              </div>

              <hr />
              <div>
                <h3 class="mb-0">BACK END</h3>
                <div class="tech-item">Node Js</div>
                <div class="tech-item">.NET</div>
                <div class="tech-item">Java</div>
                <div class="tech-item">Firebase</div>
                <div class="tech-item">PostgreSQL</div>
              </div>
              <hr />
              <div>
                <h3 class="mb-0">DEPLOYEMENT</h3>
                <div class="tech-item">Heroku</div>
                <div class="tech-item">Firebase</div>
                <div class="tech-item">Docker</div>
              </div>
              <hr />
              <div>
                <h3 class="mb-0">VERSION CONTROL</h3>
                <div class="tech-item">Git</div>
                <div class="tech-item">Github</div>
                <div class="tech-item">BitBucket</div>
              </div>
              <hr />
              <div>
                <h3 class="mb-0">COMMUNICATION</h3>
                <div class="tech-item">Jira</div>
                <div class="tech-item">Confluence</div>
              </div>
            </article>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
