<div class="profile-edit" *ngIf="member">
  <div class="row">
    <div class="offset-xl-1 col-xl-10">
      <div class="p-3">
        <div class="alert alert-info" *ngIf="projectsForm.dirty">
          <strong>Information: </strong> You have made changes. Any unsaved
          changes will be lost
        </div>
      </div>

      <div class="py-5">
        <div class="w-100">
          <form
            [formGroup]="projectsForm"
            id="projectsForm"
            (ngSubmit)="updateProject()"
          >
            <ng-container
              *ngFor="let projectForm of projects.controls; let i = index"
              [formGroupName]="i"
            >
              <fieldset class="fieldset" formArrayName="projects">
                <legend class="legend">PROJECT #{{ i + 1 }}</legend>
                <app-project-edit [projectForm]="projectForm">
                </app-project-edit>
              </fieldset>
            </ng-container>

            <div class="row align-items-start mb-3">
              <div class="col-md-8 text-end">
                <button
                  [disabled]="!projectsForm.dirty"
                  form="projectsForm"
                  type="submit"
                  class="btn btn-success btn-block"
                >
                  Save Changes
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
